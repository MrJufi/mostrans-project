{"ast":null,"code":"import{React}from'react';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import Image from'react-bootstrap/Image';import Form from'react-bootstrap/Form';import Modal from'react-bootstrap/Modal';import Button from'react-bootstrap/Button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CardDetailItem(_ref){let{show,close,character,locationName,handleLocationChange}=_ref;const notifyErrorMsg=msg=>toast.error(msg,{position:\"top-center\",autoClose:2000,hideProgressBar:false,theme:\"colored\"});const addLocation=()=>{const locations=JSON.parse(localStorage.getItem('Location'))||[];const charExist=locations.find(loc=>{return Object.values(loc).flat().includes(character.id);});if(charExist){notifyErrorMsg('Character already exist in this location or another location');return;}const checkLocationExist=locations.find(loc=>loc.hasOwnProperty(locationName));if(checkLocationExist){const locationIndex=locations.findIndex(loc=>loc.hasOwnProperty(locationName));const existingCharacters=locations[locationIndex][locationName];locations[locationIndex][locationName]=[...existingCharacters,character.id];}else{locations.push({[locationName]:[character.id]});}localStorage.setItem('Location',JSON.stringify(locations));close();};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:close,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Detail Character\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(Image,{src:character.image,fluid:true}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-2\",style:{color:'green'},children:character.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{style:{color:'purple'},children:\"Species :\"}),\" Human\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{lineHeight:'0'},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Status :\"}),\" Alive\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Location :\"}),\" \",character.location.name]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Location name\",className:\"mt-3\",value:locationName,onChange:handleLocationChange})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:close,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>{if(locationName)addLocation();else notifyErrorMsg('Please enter the location name first');},children:\"Add\"})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default CardDetailItem;","map":{"version":3,"names":["React","ToastContainer","toast","Image","Form","Modal","Button","jsx","_jsx","jsxs","_jsxs","CardDetailItem","_ref","show","close","character","locationName","handleLocationChange","notifyErrorMsg","msg","error","position","autoClose","hideProgressBar","theme","addLocation","locations","JSON","parse","localStorage","getItem","charExist","find","loc","Object","values","flat","includes","id","checkLocationExist","hasOwnProperty","locationIndex","findIndex","existingCharacters","push","setItem","stringify","onHide","children","Header","closeButton","Title","Body","src","image","fluid","className","style","color","name","lineHeight","location","Control","type","placeholder","value","onChange","Footer","variant","onClick"],"sources":["C:/Users/jufia/OneDrive/Documents/Programmer/mostrans-project/src/components/card/CardDetailItem.jsx"],"sourcesContent":["import {React} from 'react'\r\n\r\nimport { ToastContainer, toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nfunction CardDetailItem ({show, close, character, locationName, handleLocationChange}) {\r\n  const notifyErrorMsg = (msg) => toast.error(msg, {\r\n    position: \"top-center\",\r\n    autoClose: 2000,\r\n    hideProgressBar: false,\r\n    theme: \"colored\",\r\n  })\r\n\r\n  const addLocation = () => {\r\n    const locations = JSON.parse(localStorage.getItem('Location')) || []\r\n    \r\n    const charExist = locations.find(loc => {\r\n        return Object.values(loc).flat().includes(character.id);\r\n    })\r\n    \r\n    if (charExist) {\r\n        notifyErrorMsg('Character already exist in this location or another location')\r\n        return\r\n    }\r\n\r\n    const checkLocationExist = locations.find(loc => loc.hasOwnProperty(locationName))\r\n\r\n    if (checkLocationExist) { \r\n        const locationIndex = locations.findIndex(loc => loc.hasOwnProperty(locationName))\r\n        const existingCharacters = locations[locationIndex][locationName]\r\n\r\n        locations[locationIndex][locationName] = [...existingCharacters, character.id]\r\n    } else {\r\n        locations.push({ [locationName]: [character.id] })\r\n    }\r\n\r\n    localStorage.setItem('Location', JSON.stringify(locations))\r\n    close()\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={close}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Detail Character</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Image src={character.image} fluid />\r\n            <h4 className='mt-2' style={{ color: 'green' }}>{character.name}</h4>\r\n            <p><b style={{ color: 'purple' }}>Species :</b> Human</p>\r\n            <p style={{ lineHeight: '0' }}><b>Status :</b> Alive</p>\r\n            <p><b>Location :</b> {character.location.name}</p>\r\n            <Form.Control \r\n              type=\"text\" \r\n              placeholder=\"Location name\" \r\n              className='mt-3'\r\n              value={locationName}\r\n              onChange={handleLocationChange}\r\n            />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={close}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => {\r\n                if (locationName) addLocation()\r\n                else notifyErrorMsg('Please enter the location name first')\r\n            }}>\r\n            Add\r\n          </Button>\r\n        </Modal.Footer>\r\n        <ToastContainer/>\r\n      </Modal>\r\n  )\r\n}\r\n\r\nexport default CardDetailItem"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}